import{j as d}from"./index-Drk--eZC.js";import{r as s}from"./vendor-Bv85i7Ov.js";const v=({onLoad:a})=>{const o=s.useRef(null),[l,c]=s.useState(!1),[r,u]=s.useState(!1);return s.useEffect(()=>{const e=new IntersectionObserver(t=>{t.forEach(n=>{n.isIntersecting&&!r&&u(!0)})},{threshold:.1,rootMargin:"100px"});return o.current&&e.observe(o.current),()=>{o.current&&e.unobserve(o.current)}},[r]),s.useEffect(()=>{if(!r)return;(async()=>{if(typeof window<"u"&&!window.customElements.get("model-viewer")){const t=document.createElement("script");t.src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js",t.type="module",t.crossOrigin="anonymous",document.head.appendChild(t),t.onload=()=>{c(!0),a&&a()}}else c(!0),a&&a()})()},[r,a]),s.useEffect(()=>{if(!r||!l)return;const e=o.current;if(!e)return;const t=()=>{if(e&&typeof e.cameraOrbit<"u"){const f="55deg",p="60deg",g="140%";e.cameraOrbit=`${f} ${p} ${g}`}},n=()=>{setTimeout(()=>{t()},50)};e.addEventListener("load",n),e.addEventListener("model-loaded",n);const m=setTimeout(()=>{t()},200);let i=null;return e.loaded&&(i=setTimeout(()=>{t()},100)),()=>{clearTimeout(m),i&&clearTimeout(i),e&&(e.removeEventListener("load",n),e.removeEventListener("model-loaded",n))}},[r,l]),r?d.jsx("model-viewer",{ref:o,src:"/crunchy/Doritos-3D.glb",alt:"Empanada Premium con Doritos Flamin' Hot","camera-controls":!0,"auto-rotate":!0,"auto-rotate-delay":"0","shadow-intensity":"0.6",exposure:"1.0","interaction-prompt":"none","disable-zoom":!0,"camera-orbit":"90deg 75deg 140%","min-camera-orbit":"auto auto 120%","field-of-view":"40deg","min-field-of-view":"35deg","tone-mapping":"neutral",style:{width:"calc(100% + 32px)",height:"calc(100% + 64px)",outline:"none",background:"transparent",position:"absolute",top:"-80px",left:"-16px",zIndex:20,transform:"scale(0.95)","--progress-bar-height":"0px","--progress-bar-color":"transparent"},loading:"eager",reveal:"auto",poster:"/loading.gif","poster-color":"transparent"}):d.jsx("div",{ref:o,style:{width:"calc(100% + 32px)",height:"calc(100% + 64px)",outline:"none",background:"transparent",position:"absolute",top:"-80px",left:"-16px",zIndex:20,transform:"scale(0.95)",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx("div",{className:"animate-pulse bg-fuchsia-500/20 rounded-lg w-32 h-32"})})};export{v as default};
