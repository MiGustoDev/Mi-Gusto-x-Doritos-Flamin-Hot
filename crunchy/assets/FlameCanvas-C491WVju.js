import{j as b}from"./index-Cb14UsVX.js";import{r as a}from"./vendor-D9-mwp39.js";const I=({className:g,colorAlpha:l=.7,density:d=1,shadowBlur:u=15})=>{const f=a.useRef(null),m=a.useRef(null),[y,S]=a.useState(!1),[w,v]=a.useState(!0);return a.useEffect(()=>{const t=f.current,r=m.current;if(!t||!r)return;const e=t.getContext("2d");if(!e)return;let c=[],n=0;class F{constructor(){this.x=0,this.y=0,this.radius=0,this.initialRadius=0,this.speedY=0,this.life=0,this.maxLife=0,this.color="",this.waver=0,this.waverSpeed=0,this.reset()}reset(){this.x=Math.random()*t.width,this.y=t.height+Math.random()*50,this.radius=Math.random()*6+2,this.initialRadius=this.radius,this.speedY=Math.random()*2+1,this.life=Math.random()*300+200,this.maxLife=this.life;const s=Math.random()*30+10;this.color=`hsl(${s}, 100%, 50%)`,this.waver=Math.random()*2-1,this.waverSpeed=Math.random()*.05+.01}update(){this.life--,this.y-=this.speedY,this.waver+=this.waverSpeed,this.x+=Math.sin(this.waver)*1,this.radius=this.initialRadius*(this.life/this.maxLife),(this.life<=0||this.radius<=.1)&&this.reset()}draw(){const s=this.life/this.maxLife;e.beginPath(),e.arc(this.x,this.y,this.radius,0,Math.PI*2),e.shadowColor=this.color,e.shadowBlur=u;const h=this.color.match(/hsl\((\d+(?:\.\d+)?)\,/),o=h?parseFloat(h[1]):20,L=Math.max(0,Math.min(1,s*l));e.fillStyle=`hsla(${o}, 100%, 50%, ${L})`,e.fill(),e.shadowBlur=0}}const E=()=>{const{clientWidth:i,clientHeight:s}=r;t.width=i,t.height=s},p=()=>{E(),c=[];const i=t.width*t.height,s=1920*1080,h=Math.max(100,Math.floor(250*d*(i/s)));for(let o=0;o<h;o++)c.push(new F)},x=()=>{if(w){e.clearRect(0,0,t.width,t.height);for(const i of c)i.update(),i.draw();n=requestAnimationFrame(x)}},M=()=>{p()},R=new IntersectionObserver(i=>{i.forEach(s=>{s.isIntersecting?(S(!0),v(!0),p(),x()):(v(!1),n&&cancelAnimationFrame(n))})},{threshold:.1});return r&&R.observe(r),window.addEventListener("resize",M),()=>{cancelAnimationFrame(n),window.removeEventListener("resize",M),R.disconnect()}},[l,d,u,w]),b.jsx("div",{ref:m,className:g,children:b.jsx("canvas",{ref:f,className:"block w-full h-full"})})};export{I as F};
