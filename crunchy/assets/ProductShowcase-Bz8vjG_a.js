const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Model3D-Ncfk4SRj.js","assets/index-Drk--eZC.js","assets/vendor-Bv85i7Ov.js","assets/index-DUbYKNAC.css"])))=>i.map(i=>d[i]);
import{j as e,_ as I,u as D,t as k}from"./index-Drk--eZC.js";import{r as s,R as F}from"./vendor-Bv85i7Ov.js";import{R}from"./Reveal-D5nm75cP.js";import{F as P}from"./FlameCanvas-CKLZ9e6h.js";const B=({className:N,intensity:l=.7})=>{const w=s.useRef(null),j=s.useRef(null),[r,y]=s.useState(!1);return s.useEffect(()=>{const m=w.current,o=j.current;if(!m||!o)return;const x=m.getContext("2d");if(!x)return;let d=0;const i=[];class v{constructor(){this.x=0,this.y=0,this.vx=0,this.vy=0,this.life=0,this.maxLife=0,this.size=0,this.wobble=0,this.wobbleSpeed=0,this.reset()}reset(){const h=m.width,b=m.height;this.x=h*.5+(Math.random()-.5)*(h*.12),this.y=b*.68+Math.random()*(b*.05),this.vx=(Math.random()-.5)*.2,this.vy=-(.5+Math.random()*.9),this.size=10+Math.random()*24,this.life=200+Math.random()*200,this.maxLife=this.life,this.wobble=Math.random()*Math.PI*2,this.wobbleSpeed=.02+Math.random()*.03}update(){this.life--,this.wobble+=this.wobbleSpeed,this.x+=this.vx+Math.sin(this.wobble)*.4,this.y+=this.vy,this.size*=1.003,(this.life<=0||this.y<-50)&&this.reset()}draw(){const h=this.life/this.maxLife*.5*l,b=x.createRadialGradient(this.x,this.y,this.size*.1,this.x,this.y,this.size);b.addColorStop(0,`rgba(255,255,255,${h})`),b.addColorStop(1,"rgba(255,255,255,0)"),x.fillStyle=b,x.beginPath(),x.arc(this.x,this.y,this.size,0,Math.PI*2),x.fill()}}const E=()=>{const{clientWidth:u,clientHeight:h}=o;m.width=u,m.height=h},g=()=>{E(),i.length=0;const u=m.width*m.height,h=1280*720,b=Math.max(25,Math.floor(60*(u/h)*l));for(let t=0;t<b;t++)i.push(new v)},c=()=>{if(r){x.clearRect(0,0,m.width,m.height),x.globalCompositeOperation="lighter";for(const u of i)u.update(),u.draw();x.globalCompositeOperation="source-over",d=requestAnimationFrame(c)}},M=new IntersectionObserver(u=>{u.forEach(h=>{h.isIntersecting?(y(!0),g(),c()):(y(!1),d&&cancelAnimationFrame(d))})},{threshold:.1});o&&M.observe(o);const C=()=>g();return window.addEventListener("resize",C),()=>{cancelAnimationFrame(d),window.removeEventListener("resize",C),M.disconnect()}},[l,r]),e.jsx("div",{ref:j,className:N,children:e.jsx("canvas",{ref:w,className:"block w-full h-full"})})},O=({trigger:N,duration:l=5e3,imageSrc:w="/crunchy/Tubito.png",count:j=6})=>{const r=s.useRef(null),[y,m]=s.useState([]),o=s.useRef(null),x=s.useRef(0),d=()=>{const i=r.current?.getBoundingClientRect();if(!i)return;const v=i.width/2,E=i.height/2,g=Date.now(),c=Array.from({length:j},(M,C)=>{const u=C/j*Math.PI*2+(Math.random()-.5)*.3,h=3+Math.random()*2.5;return{id:g+C+Math.random(),x:v,y:E,vx:Math.cos(u)*h,vy:Math.sin(u)*h-(1.5+Math.random()),rotation:Math.random()*360,rotationSpeed:(Math.random()-.5)*4,scale:.9+Math.random()*.5,life:1,createdAt:g}});m(M=>[...M,...c])};return s.useEffect(()=>{if(!N){m([]),o.current&&cancelAnimationFrame(o.current),r.current&&(r.current.style.opacity="1",r.current.style.transition="none");return}x.current=Date.now(),m([]),d();const i=setTimeout(()=>d(),500),v=setTimeout(()=>{r.current&&(r.current.style.opacity="0",r.current.style.transition="opacity 1.2s ease-out")},l-1200),E=()=>{m(g=>g.map(c=>{const M=c.x+c.vx,C=c.y+c.vy,u=c.vx*.98,h=c.vy*.98+.18,b=c.rotation+c.rotationSpeed;let a=1-(Date.now()-c.createdAt)/l;return a<0&&(a=0),{...c,x:M,y:C,vx:u,vy:h,rotation:b,life:a}}).filter(c=>c.life>.01)),o.current=requestAnimationFrame(E)};return o.current=requestAnimationFrame(E),()=>{clearTimeout(i),clearTimeout(v),o.current&&cancelAnimationFrame(o.current),r.current&&(r.current.style.opacity="1",r.current.style.transition="none")}},[N,l,j]),!N&&y.length===0?null:e.jsx("div",{ref:r,className:"absolute inset-0 pointer-events-none z-[9999]",style:{width:"100%",height:"100%",transition:"opacity 1.2s ease-out"},children:y.map(i=>e.jsx("div",{className:"absolute",style:{left:i.x,top:i.y,width:32,height:32,opacity:i.life,transform:`rotate(${i.rotation}deg) scale(${i.scale})`,pointerEvents:"none",transition:"opacity 0.5s",zIndex:1e4,filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))",willChange:"transform, opacity",backfaceVisibility:"hidden"},children:e.jsx("img",{src:w,alt:"Confetti",style:{width:"100%",height:"100%",objectFit:"contain",pointerEvents:"none"},draggable:!1})},i.id))})},$=F.lazy(()=>I(()=>import("./Model3D-Ncfk4SRj.js"),__vite__mapDeps([0,1,2,3]))),q=({className:N})=>{const[l,w]=s.useState(!1);return e.jsxs("div",{className:N,children:[!l&&e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-900/20 to-fuchsia-900/20 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-fuchsia-500 mx-auto mb-4"}),e.jsx("p",{className:"text-sm",children:"Cargando modelo 3D..."})]})}),e.jsx(s.Suspense,{fallback:null,children:e.jsx($,{onLoad:()=>w(!0)})})]})},H=({className:N="",intensity:l=.6,speed:w=1})=>{const j=s.useRef(null),r=s.useRef(null),[y,m]=s.useState(!1);return s.useRef(),s.useEffect(()=>{const o=j.current,x=r.current;if(!o||!x)return;const d=o.getContext("2d");if(!d)return;let i=[],v;const E=()=>{const t=x.getBoundingClientRect();o.width=t.width,o.height=t.height},g=()=>{const t=o.width,a=o.height;return{x:Math.random()>.5?-50:t+50,y:Math.random()*a,width:Math.random()*200+100,height:Math.random()*3+1,speed:(Math.random()*2+1)*w,direction:Math.random()>.5?1:-1,opacity:Math.random()*.4+.1,color:`hsl(${Math.random()*30+10}, 100%, ${Math.random()*20+60}%)`,life:0,maxLife:Math.random()*200+100}},c=()=>{i=[];const t=Math.floor(o.width*o.height/5e4*l*10);for(let a=0;a<t;a++)i.push(g())},M=t=>{t.life++,t.x+=t.speed*t.direction;const a=t.life/t.maxLife;a<.1?t.opacity=a/.1*.4*l:a>.8?t.opacity=(1-a)/.2*.4*l:t.opacity=.4*l},C=t=>{d.save(),d.globalAlpha=t.opacity;const a=d.createLinearGradient(t.x,t.y,t.x+t.width*t.direction,t.y);a.addColorStop(0,"transparent"),a.addColorStop(.3,t.color),a.addColorStop(.7,t.color),a.addColorStop(1,"transparent"),d.fillStyle=a,d.fillRect(t.x,t.y-t.height/2,t.width*t.direction,t.height),d.shadowColor=t.color,d.shadowBlur=8,d.fillRect(t.x,t.y-t.height/2,t.width*t.direction,t.height),d.restore()},u=()=>{if(y){d.clearRect(0,0,o.width,o.height);for(let t=i.length-1;t>=0;t--){const a=i[t];M(a),C(a),(a.x<-200||a.x>o.width+200||a.life>a.maxLife)&&(i.splice(t,1),i.push(g()))}v=requestAnimationFrame(u)}},h=new IntersectionObserver(t=>{t.forEach(a=>{a.isIntersecting?(m(!0),E(),c(),u()):(m(!1),v&&cancelAnimationFrame(v))})},{threshold:.1});h.observe(x);const b=()=>{E(),c()};return window.addEventListener("resize",b),()=>{h.disconnect(),window.removeEventListener("resize",b),v&&cancelAnimationFrame(v)}},[l,w,y]),e.jsx("div",{ref:r,className:`absolute inset-0 ${N}`,children:e.jsx("canvas",{ref:j,className:"w-full h-full pointer-events-none",style:{background:"transparent",mixBlendMode:"screen"}})})},W=()=>{const N=D("ProductShowcase"),l=s.useRef(null),w=s.useRef(null),j=s.useRef(null),r=s.useRef(null),[y,m]=s.useState(!1),[o,x]=s.useState(!1),[d,i]=s.useState(!1),[v,E]=s.useState(!1),[g,c]=s.useState(!1);s.useEffect(()=>{const n=new IntersectionObserver(p=>{p.forEach(f=>{f.isIntersecting&&!y&&m(!0)})},{threshold:.3,rootMargin:"0px 0px -50px 0px"});return l.current&&n.observe(l.current),()=>{l.current&&n.unobserve(l.current)}},[y]),s.useEffect(()=>{const n=new IntersectionObserver(f=>{f.forEach(z=>{z.isIntersecting&&z.target.classList.add("in-view")})},{threshold:.2,rootMargin:"0px 0px -100px 0px"}),p=[w.current,j.current].filter(Boolean);return p.forEach(f=>{f&&n.observe(f)}),()=>{p.forEach(f=>{f&&n.unobserve(f)})}},[g]),s.useEffect(()=>{const n=new IntersectionObserver(p=>{p.forEach(f=>{f.isIntersecting&&f.target.classList.add("in-view")})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});return r.current&&n.observe(r.current),()=>{r.current&&n.unobserve(r.current)}},[]);const M=s.useCallback(()=>{x(!0),setTimeout(()=>x(!1),2e3),k("select_promotion",{promotion_id:"product_logo",promotion_name:"Logo Empanada",location_id:"product_showcase"})},[]),C=s.useCallback(()=>{console.log("Toggle 3D Model clicked, current state:",g),c(n=>{const p=!n;return console.log("Setting new state:",p),setTimeout(()=>{k("select_promotion",{promotion_id:"toggle_3d_model",promotion_name:`Toggle 3D Model - ${p?"Open":"Close"}`,location_id:"product_showcase"})},100),p})},[]),u=n=>{(n.animationName==="logoDropIn"||n.nativeEvent?.animationName==="logoDropIn")&&(i(!0),setTimeout(()=>E(!0),80))},[h,b]=s.useState(()=>window.innerWidth<768),[t,a]=s.useState(0),L=s.useCallback(()=>{const n=l.current;if(!n)return;const p=n.getBoundingClientRect(),f=window.innerHeight||1,z=f*.9,T=f*.4,A=1-(p.top-T)/(z-T),S=Math.max(0,Math.min(1,A));a(_=>Math.abs(_-S)>.01?S:_)},[]);return s.useEffect(()=>{let n,p=0;const f=33,z=()=>{const T=Date.now();T-p<f||(p=T,n&&cancelAnimationFrame(n),n=requestAnimationFrame(L))};return L(),window.addEventListener("scroll",z,{passive:!0}),window.addEventListener("resize",z,{passive:!0}),()=>{n&&cancelAnimationFrame(n),window.removeEventListener("scroll",z),window.removeEventListener("resize",z)}},[L]),s.useEffect(()=>{let n;const p=()=>{clearTimeout(n),n=setTimeout(()=>b(window.innerWidth<768),100)};return window.addEventListener("resize",p,{passive:!0}),()=>{clearTimeout(n),window.removeEventListener("resize",p)}},[]),e.jsxs("section",{ref:N,"data-section":"product",className:"py-24 md:py-28 relative overflow-hidden",children:[null,e.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black via-purple-900/70 to-black"}),e.jsx("div",{className:"absolute inset-0 gradient-bg opacity-80"}),e.jsx("div",{className:"pointer-events-none absolute inset-x-0 top-0 h-32 bg-gradient-to-b from-black/80 via-black/40 to-transparent"}),h&&e.jsx(P,{className:"absolute left-0 right-0 bottom-0 top-0 z-0 pointer-events-none",density:1.5,colorAlpha:1,shadowBlur:20}),e.jsxs("div",{className:"relative z-10 max-w-none mx-auto px-2 sm:px-4 md:px-8 lg:px-12 xl:px-16",children:[e.jsxs("div",{className:"text-center mb-10 sm:mb-12 md:mb-16",children:[e.jsxs("div",{ref:l,className:"mb-12 sm:mb-2 -mt-20 sm:-mt-12 md:-mt-20 lg:-mt-24 relative px-0 sm:px-4",children:[e.jsx(H,{className:"absolute inset-0 -z-10",intensity:.5,speed:1}),e.jsx("div",{className:"absolute inset-0 z-5 flex items-center justify-center pointer-events-none",children:e.jsx("img",{ref:r,src:"/crunchy/CrunchyExplosion.png",alt:"Explosión de Chips",className:"absolute w-full h-full object-contain opacity-70 chips-explosion-reveal",style:{animation:"chipExplosion1 4s ease-in-out infinite alternate",zIndex:5}})}),e.jsx("img",{src:"/crunchy/LogoEmp.png",alt:"Logo Empanada",onClick:M,onAnimationEnd:u,className:`mx-auto w-full sm:w-80 md:w-[28rem] lg:w-[32rem] xl:w-[56rem] h-auto cursor-pointer relative z-20 ${y?d?"":"logo-drop-in":"opacity-0"} ${o?"logo-flash":""}`}),e.jsx(O,{trigger:v,duration:5e3}),e.jsxs("div",{className:"pointer-events-none absolute left-1/2 -translate-x-1/2 top-1/2 w-screen -z-[1]",children:[e.jsx(R,{effect:"fade",className:"block md:block absolute left-0 -translate-y-1/2",children:e.jsx("div",{className:"relative",children:e.jsx("img",{src:"/crunchy/TubitoDinamita2.png",alt:"Tubito Dinamita (izquierda)",className:"w-32 md:w-48 lg:w-56 will-change-transform",style:{transition:"transform 120ms linear, opacity 120ms linear",opacity:t,transform:`translateX(${(-120+90*t).toFixed(2)}%)`},loading:"lazy"})})}),e.jsx(R,{effect:"fade",delay:1,className:"block md:block absolute right-0 -translate-y-1/2",children:e.jsx("div",{className:"relative",children:e.jsx("img",{src:"/crunchy/TubitoDinamita.png",alt:"Tubito Dinamita (derecha)",className:"w-36 md:w-52 lg:w-60 will-change-transform",style:{transition:"transform 120ms linear, opacity 120ms linear",opacity:t,transform:`translateX(${(120-90*t).toFixed(2)}%)`},loading:"lazy"})})})]})]}),e.jsx(R,{effect:"slide-up",children:e.jsx("h2",{className:"text-3xl sm:text-4xl md:text-6xl font-black flame-text-right font-['Bebas_Neue'] mb-4 sm:mb-6 px-4",children:"EMPANADA REVOLUCIONARIA"})}),e.jsx(R,{effect:"fade",delay:1,children:e.jsx("p",{className:"text-purple-200 text-base sm:text-lg md:text-xl max-w-3xl mx-auto px-4 leading-relaxed",children:"Cada mordida es una explosión de sabor que combina la tradición argentina con la intensidad única de Doritos Flamin' Hot"})}),e.jsx("div",{className:"flex justify-center mt-6 mb-4 relative z-50",children:e.jsx("button",{onClick:n=>{n.preventDefault(),n.stopPropagation(),console.log("Button clicked directly!"),C()},onMouseDown:n=>{n.preventDefault(),console.log("Button mouse down!")},className:"bg-transparent border-0 p-0 m-0 rounded-none shadow-none hover:shadow-none cursor-pointer relative z-50 pointer-events-auto",style:{zIndex:9999,position:"relative",display:"inline-block"},disabled:!1,children:e.jsx("iframe",{src:"https://lottie.host/embed/7ae74040-aac6-4c39-9ffa-559e8a1f4c60/ZEdWR7FqTN.lottie",title:"Ver en 3D",style:{width:"240px",height:"80px",border:"none",pointerEvents:"none",background:"transparent",display:"block"},loading:"lazy",referrerPolicy:"no-referrer"})})})]}),e.jsx("div",{className:"flex flex-col items-center mb-16 sm:mb-20",children:e.jsx("div",{className:"transition-all duration-500 ease-in-out w-full opacity-100",children:g?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 sm:gap-12 lg:gap-20 xl:gap-24 items-center w-full",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsx("div",{className:"relative",children:e.jsxs("div",{className:"relative overflow-visible bg-transparent",children:[e.jsxs("div",{className:"relative z-5 w-[120%] h-[280px] sm:h-[350px] md:h-[500px] lg:h-[600px] -ml-[10%] -mr-[10%]",children:[e.jsx("div",{className:"pointer-events-none absolute left-0 right-0 -top-[160px] bottom-0 z-0",children:e.jsx(B,{intensity:.6,className:"absolute inset-0"})}),e.jsx(q,{className:"w-full h-full"})]}),e.jsxs("div",{className:"absolute left-0 right-0 bottom-4 sm:bottom-6 md:bottom-8 z-20 text-center px-4",children:[e.jsx("h3",{className:"text-lg sm:text-xl md:text-2xl font-bold text-white mb-1 sm:mb-2 drop-shadow-[0_2px_6px_rgba(0,0,0,0.6)]",children:"Empanada Premium"}),e.jsx("p",{className:"text-sm sm:text-base text-fuchsia-300 drop-shadow-[0_1px_4px_rgba(0,0,0,0.6)]",children:"Con Flamin' Hot"})]})]})})}),e.jsx("div",{className:"lg:mt-8 lg:flex lg:items-center lg:justify-center px-6 sm:px-6 lg:px-8",children:e.jsx(R,{effect:"bounce",delay:1,children:e.jsx("div",{className:"relative overflow-visible",children:e.jsx("img",{ref:j,src:"/crunchy/Ingredientes.png",alt:"Ingredientes de la Empanada Premium",className:"transition-all duration-1000 ease-out transform ingredients-reveal ingredients-responsive",style:{width:"600px !important",height:"500px !important",maxWidth:"none !important",maxHeight:"none !important",minWidth:"600px !important",minHeight:"500px !important",objectFit:"contain",zoom:"1.0",fontSize:"20px"},loading:"lazy",decoding:"async"})})})})]},"3d-view"):e.jsx("div",{className:"flex items-center justify-center px-6 sm:px-6 lg:px-8 lg:mt-8",children:e.jsx(R,{effect:"bounce",delay:1,children:e.jsx("div",{className:"relative overflow-visible",children:e.jsx("img",{ref:w,src:"/crunchy/Ingredientes.png",alt:"Ingredientes de la Empanada Premium",className:"transition-all duration-1000 ease-out transform ingredients-reveal ingredients-responsive",style:{width:"600px !important",height:"500px !important",maxWidth:"none !important",maxHeight:"none !important",minWidth:"600px !important",minHeight:"500px !important",objectFit:"contain",zoom:"1.0",fontSize:"20px"},loading:"lazy",decoding:"async"})})})},"ingredients-only")})}),e.jsx("div",{className:"block sm:hidden relative z-[5] mt-8 mb-6",children:e.jsx("div",{className:"marquee bg-gradient-to-r from-fuchsia-700/80 via-purple-700/80 to-fuchsia-700/80 border-y-2 border-fuchsia-500/50 py-3",children:e.jsxs("div",{className:"marquee-track text-black font-extrabold tracking-tight drop-shadow-[0_2px_2px_rgba(0,0,0,0.25)]",children:[e.jsx("span",{className:"text-3xl font-['Bebas_Neue'] uppercase px-4 whitespace-nowrap",children:"• Tu antojo Crujiente • Tu antojo Crujiente • Tu antojo Crujiente • Tu antojo Crujiente •"}),e.jsx("span",{className:"text-3xl font-['Bebas_Neue'] uppercase px-4 whitespace-nowrap",children:"• Tu antojo Crujiente • Tu antojo Crujiente • Tu antojo Crujiente • Tu antojo Crujiente •"})]})})}),e.jsx("div",{className:"hidden sm:block relative z-[5] mt-16 mb-8",children:e.jsx("div",{className:"marquee bg-gradient-to-r from-fuchsia-700/80 via-purple-700/80 to-fuchsia-700/80 border-y-2 border-fuchsia-500/50 py-4 sm:py-3 md:py-4",children:e.jsxs("div",{className:"marquee-track text-black font-extrabold tracking-tight drop-shadow-[0_2px_2px_rgba(0,0,0,0.25)]",children:[e.jsx("span",{className:"text-6xl sm:text-3xl md:text-5xl lg:text-8xl font-['Bebas_Neue'] uppercase px-4 sm:px-6 md:px-10 whitespace-nowrap",children:"• Tu antojo Crujiente • Tu antojo Crujiente • Tu antojo Crujiente • Tu antojo Crujiente •"}),e.jsx("span",{className:"text-6xl sm:text-3xl md:text-5xl lg:text-8xl font-['Bebas_Neue'] uppercase px-4 sm:px-6 md:px-10 whitespace-nowrap",children:"• Tu antojo Crujiente • Tu antojo Crujiente • Tu antojo Crujiente • Tu antojo Crujiente •"})]})})})]})]})},U=s.memo(W);export{U as default};
